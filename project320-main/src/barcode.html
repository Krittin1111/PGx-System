<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <title>Barcode Scanner & Generator | PGx System</title>
  <link rel="stylesheet" href="css/barcode.css">
</head>
<body>
    <div class="container">
        <h1>Barcode System</h1>
        
        <!-- Tab Navigation -->
        <div class="tab-container">
            <button class="tab-button active" onclick="showTab('scanner')">Scanner</button>
            <button class="tab-button" onclick="showTab('generator')">Generator</button>
        </div>

        <!-- Scanner Tab -->
        <div id="scanner-tab" class="tab-content active">
            <h2>Barcode Scanner</h2>
            <div class="scanner-container">
                <div id="camera-preview"></div>
                <div class="scanner-controls">
                    <button id="start-scanner" class="btn btn-primary">Start Scanner</button>
                    <button id="stop-scanner" class="btn btn-secondary" disabled>Stop Scanner</button>
                </div>
                <div class="scan-result">
                    <h3>Scanned Result:</h3>
                    <div id="scan-output">No barcode scanned yet</div>
                    <button id="copy-result" class="btn btn-small" style="display:none;">Copy Result</button>
                </div>
            </div>
        </div>

        <!-- Generator Tab -->
        <div id="generator-tab" class="tab-content">
            <h2>Barcode Generator</h2>
            <div class="generator-container">
                <div class="input-group">
                    <label for="barcode-text">Text to encode:</label>
                    <input type="text" id="barcode-text" placeholder="Enter text or numbers" value="123456789">
                </div>
                
                <div class="input-group">
                    <label for="barcode-format">Barcode Format:</label>
                    <select id="barcode-format">
                        <option value="CODE128">CODE128</option>
                        <option value="CODE39">CODE39</option>
                        <option value="EAN13">EAN13</option>
                        <option value="EAN8">EAN8</option>
                        <option value="UPC">UPC</option>
                    </select>
                </div>

                <div class="input-group">
                    <button id="generate-barcode" class="btn btn-primary">Generate Barcode</button>
                </div>

                <div class="barcode-result">
                    <h3>Generated Barcode:</h3>
                    <div id="barcode-display">
                        <canvas id="barcode-canvas"></canvas>
                    </div>
                    <div class="barcode-actions">
                        <button id="save-barcode" class="btn btn-secondary" style="display:none;">Save as PNG</button>
                        <button id="print-barcode" class="btn btn-secondary" style="display:none;">Print</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Back Button -->
        <div class="back-container">
            <button onclick="window.location.href='./home.html'" class="btn btn-back">‚Üê Back to Home</button>
        </div>
    </div>

    <!-- Include barcode libraries -->
    <script src="../node_modules/quagga/dist/quagga.min.js"></script>
    <script src="../node_modules/jsbarcode/dist/JsBarcode.all.min.js"></script>
    <script src="./js/barcode.js"></script>
</body>
</html>